<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>风之之的Blog</title>
  
  <subtitle>好想在哪见过你~</subtitle>
  <link href="https://fongzhizhi.github.io/atom.xml" rel="self"/>
  
  <link href="https://fongzhizhi.github.io/"/>
  <updated>2020-08-30T12:38:50.184Z</updated>
  <id>https://fongzhizhi.github.io/</id>
  
  <author>
    <name>Dongoog</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo Next主题配置更改及优化</title>
    <link href="https://fongzhizhi.github.io/2020/08/30/Hexo%20Next%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9%E5%8F%8A%E4%BC%98%E5%8C%96/"/>
    <id>https://fongzhizhi.github.io/2020/08/30/Hexo%20Next%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9%E5%8F%8A%E4%BC%98%E5%8C%96/</id>
    <published>2020-08-30T11:22:01.079Z</published>
    <updated>2020-08-30T12:38:50.184Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="https://user-images.githubusercontent.com/16272760/63487983-da41b080-c4df-11e9-951c-64883a8a5e9b.png"></p><p><a href="https://theme-next.iissnan.com/"><strong>Next</strong></a>主题是使用人数较多的一款主题，在于其精简易用，提供了不同的主题风格和样式配置。由于<a href="https://theme-next.iissnan.com/theme-settings.html">Next官方文档</a>并未收录所有配置修改说明，所以本文重点总结一些常用的配置修改方法以及增加一些扩展效果。</p><p>欢迎留言补充说明。（由于版本更迭，有的方法可能不再适用，当前版本<a href="https://github.com/theme-next/hexo-theme-next"><code>V7.8.0</code></a>）</p><a id="more"></a><h2 id="布局修改"><a href="#布局修改" class="headerlink" title="布局修改"></a>布局修改</h2><p><code>Next</code>提供了四种主题布局样式，在<strong>主题配置文件</strong>中搜索关键词：<code>Schemes</code>，可以发现有以下布局样式可供选择：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Schemes</span><br><span class="line"># scheme: Muse</span><br><span class="line"># scheme: Mist</span><br><span class="line"># scheme: Pisces</span><br><span class="line">scheme: Gemini</span><br></pre></td></tr></table></figure><p>可以尝试修改后调整为自己喜欢的布局样式。（对应文章开头图片的四种样式）</p><h2 id="主页菜单修改"><a href="#主页菜单修改" class="headerlink" title="主页菜单修改"></a>主页菜单修改</h2><h3 id="配置修改"><a href="#配置修改" class="headerlink" title="配置修改"></a>配置修改</h3><p><code>Next</code>默认可能只开启了<strong>首页</strong>和<strong>归档</strong>两个菜单，如果需要新增或自定义类似下面的菜单：</p><p><img data-src="/images/image-20200830163445222.png"></p><p>在<strong>主题配置文件</strong>中搜索关键词<code>menu</code>：（有翻译配置的会自动转换翻译）</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Usage: `Key: /link/ || icon`</span><br><span class="line"># External url should start with http:// or https://</span><br><span class="line">menu:</span><br><span class="line">  home: / || fa fa-home</span><br><span class="line">  tags: /tags/ || fa fa-tags</span><br><span class="line">  categories: /categories/ || fa fa-th</span><br><span class="line">  archives: /archives/ || fa fa-archive</span><br><span class="line">  about: /about/ || fa fa-user</span><br><span class="line">  # schedule: /schedule/ || fa fa-calendar</span><br><span class="line">  # sitemap: /sitemap.xml || fa fa-sitemap</span><br><span class="line">  # commonweal: /404/ || fa fa-heartbeat</span><br></pre></td></tr></table></figure><p>一个菜单我们需要配置三个参数，对应格式为：<code>菜单名称: 连接 || 图标</code>。</p><h3 id="跳转效果"><a href="#跳转效果" class="headerlink" title="跳转效果"></a>跳转效果</h3><p>当我们配置了菜单之后，可能点击是<code>404</code>界面，这是因为我们还没有为菜单创建对应链接下的访问目录和内容，以<code>tags</code>菜单为例，具体操作如下：</p><p>回到<code>Hexo</code>项目根目录，执行<code>new page</code>命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><p>这样，会在<code>Hexo</code>的<code>source</code>目录下生成一个<code>tags</code>目录，并初始化一个<code>index.md</code>文件，而当我们访问<code>/tags</code>时便是访问<code>tags</code>目录下的这个<code>index.md</code>生成的<code>html</code>文件。</p><p>为了能看到内容，我们需要修改这个文件，你可以自定义你需要展示的内容，在这里，<code>tags</code>比较特殊，我们希望展示站点的所有标签信息，我们不可能手动添加，所以<code>Hexo</code>为我们内置了<code>标签页</code>的生成方法，我们只需要简单修改这个文件的<strong>头信息</strong>就能自动生成：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">type: tags</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>重点是这个<code>type</code>字段，我们指定为<code>tags</code>之后，<code>Hexo</code>就会自动为我们创建标签页，类似的还有分类页<code>categories</code>，把<code>type</code>设置为<code>categories</code>即可。</p><h2 id="展示文章字数统计和阅读时长信息"><a href="#展示文章字数统计和阅读时长信息" class="headerlink" title="展示文章字数统计和阅读时长信息"></a>展示文章字数统计和阅读时长信息</h2><p>这是<code>Hexo</code>提供的一个插件，<code>Next</code>也支持了这个插件，所以我们只需要安装并修改<strong>主题配置文件</strong>即可：</p><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>搜索关键字：<code>symbols_count_time</code>，没有的话需要新增：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span><br><span class="line">symbols_count_time:</span><br><span class="line">  symbols: true #显示字数</span><br><span class="line">  time: true #显示阅读时长</span><br><span class="line">  item_text_post: false #是否显示图标</span><br><span class="line">  item_text_total: false</span><br><span class="line">  separated_meta: false #是否换行显示</span><br><span class="line">  awl: 4 #平均字长(以字接为单位)</span><br><span class="line">  wpm: 275 #每分钟字数。默认值：275</span><br><span class="line">  suffix: &quot;mins.&quot; #阅读显示单位</span><br></pre></td></tr></table></figure><h2 id="代码块样式修改"><a href="#代码块样式修改" class="headerlink" title="代码块样式修改"></a>代码块样式修改</h2><p><code>Next</code>提供了多种样式可供选择，搜索关键字：<code>codeblock</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">codeblock:</span><br><span class="line">  # Available values: normal | night | night eighties | night blue | night bright | solarized | solarized dark | galactic</span><br><span class="line">  # See: https://github.com/chriskempson/tomorrow-theme</span><br><span class="line">  highlight_theme: night eighties #代码块主题样式</span><br><span class="line">  copy_button:</span><br><span class="line">    enable: true #是否开启复制按钮</span><br><span class="line">    # Show text copy result.</span><br><span class="line">    show_result: true</span><br><span class="line">    # Available values: default | flat | mac</span><br><span class="line">    style: mac #复制按钮主题样式</span><br></pre></td></tr></table></figure><h2 id="增加打赏功能"><a href="#增加打赏功能" class="headerlink" title="增加打赏功能"></a>增加打赏功能</h2><p>在<strong>主题配置文件</strong>中搜索关键词：<code>reward_settings</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">reward_settings:</span><br><span class="line">  enable: true</span><br><span class="line">  animation: true #是否开启动画效果</span><br><span class="line">  comment: #在打赏界面显示你要说的话</span><br></pre></td></tr></table></figure><p>然后再搜索关键词<code>reward</code>，展示你需要展示的支付图片：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reward:</span><br><span class="line">  wechatpay: /images/wechatpay.png</span><br><span class="line">  alipay: /images/alipay.jpg</span><br><span class="line">  #paypal: /images/paypal.png</span><br><span class="line">  #bitcoin: /images/bitcoin.png</span><br></pre></td></tr></table></figure><p>根据上面的配置，把图片复制到<code>Hexo</code>根目录的<code>source/images</code>目录下。</p><h2 id="增加版权信息"><a href="#增加版权信息" class="headerlink" title="增加版权信息"></a>增加版权信息</h2><p>在<strong>主题配置文件</strong>中搜索关键词：<code>creative_commons</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># See: https://creativecommons.org/share-your-work/licensing-types-examples</span><br><span class="line">creative_commons:</span><br><span class="line">  license: by-nc-sa #使用的协议</span><br><span class="line">  sidebar: false #首页侧边栏显示</span><br><span class="line">  post: true #文章底部显示</span><br><span class="line">  language: #语言</span><br></pre></td></tr></table></figure><p>然后在文章底部就会自动生成这样的说明信息：</p><p><img data-src="/images/image-20200830174347283.png"></p><h2 id="展示站点访问人数统计"><a href="#展示站点访问人数统计" class="headerlink" title="展示站点访问人数统计"></a>展示站点访问人数统计</h2><p><code>Next</code>内置了<code>卜蒜子</code>统计插件，所以只需要修改配置就好了，在<strong>主题配置文件</strong>中搜索关键词：<code>busuanzi_count</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Get more information on http://ibruce.info/2015/04/04/busuanzi</span><br><span class="line">busuanzi_count:</span><br><span class="line">  enable: true</span><br><span class="line">  total_visitors: true</span><br><span class="line">  total_visitors_icon: fa fa-user</span><br><span class="line">  total_views: true</span><br><span class="line">  total_views_icon: fa fa-eye</span><br><span class="line">  post_views: true</span><br><span class="line">  post_views_icon: fa fa-eye</span><br></pre></td></tr></table></figure><h2 id="显示页面加载进度条"><a href="#显示页面加载进度条" class="headerlink" title="显示页面加载进度条"></a>显示页面加载进度条</h2><p><code>Next</code>使用了<strong>pace模块</strong>功能，</p><p>需要先安装这个模块到<code>Next</code>主题文件夹下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd themes/next</span><br><span class="line">git clone https://github.com/theme-next/theme-next-pace source/lib/pace</span><br></pre></td></tr></table></figure><p>然后修改配置文件，搜索关键词<code>pace</code>或自己添加：(多种样式可供选择)</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pace:</span><br><span class="line">  enable: true</span><br><span class="line">  # Themes list:</span><br><span class="line">  # big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple</span><br><span class="line">  # corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal</span><br><span class="line">  theme: minimal</span><br></pre></td></tr></table></figure><h2 id="动态背景"><a href="#动态背景" class="headerlink" title="动态背景"></a>动态背景</h2><p><code>Next</code>内置了三种动态背景，可能会造成界面打开缓慢和卡顿，根据自己需求觉得是否安装：</p><ul><li><a href="https://github.com/theme-next/theme-next-canvas-nest">Canvas-nest</a></li><li><a href="https://github.com/theme-next/theme-next-three">JavaScript 3D library</a></li><li><a href="https://github.com/theme-next/theme-next-canvas-ribbon">Canvas-ribbon</a></li></ul><p>以安装<code>canvas-nest</code>为例：</p><p>下载安装模块：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd themes/next</span><br><span class="line">git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest</span><br></pre></td></tr></table></figure><p>修改或添加主题配置文件文件，搜索关键词：<code>canvas_nest</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">canvas_nest:</span><br><span class="line">  enable: true</span><br><span class="line">  onmobile: true # Display on mobile or not</span><br><span class="line">  color: &quot;0,0,255&quot; # RGB values, use `,` to separate</span><br><span class="line">  opacity: 0.5 # The opacity of line: 0~1</span><br><span class="line">  zIndex: -1 # z-index property of the background</span><br><span class="line">  count: 99 # The number of lines</span><br></pre></td></tr></table></figure><h2 id="静态背景"><a href="#静态背景" class="headerlink" title="静态背景"></a>静态背景</h2><p>如果觉得动态背景卡顿或太花哨，你也可以只设置一张静态背景。</p><p>背景是简单的<code>css</code>设置的，所以我们需要插入一段<code>css</code>代码来覆盖默认设置。</p><p>在主题的<code>css</code>目录即：<code>hexo\themes\next\source\css</code>下有一个<code>main.styl</code>文件，这就是站点最终要的打包<code>css</code>文件，我们不建议直接修改这个文件，所以我们在css文件目录下新建一个文件<code>custom.styl</code>（可以换别的名字），表示这是我们自定义的<code>css</code>代码，增加以下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义的部分</span></span><br><span class="line">body &#123;</span><br><span class="line">  background-image: url(<span class="regexp">/images/</span>bg.png)</span><br><span class="line">  background-repeat: no-repeat;</span><br><span class="line">  background-attachment:fixed;</span><br><span class="line">  background-size: cover;</span><br><span class="line">  background-position:<span class="number">50</span>% <span class="number">50</span>%;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//博客内容透明化</span></span><br><span class="line"><span class="comment">//文章内容的透明度设置</span></span><br><span class="line">.content-wrap &#123;</span><br><span class="line">  opacity: <span class="number">0.95</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//侧边框的透明度设置</span></span><br><span class="line">.sidebar &#123;</span><br><span class="line">  opacity: <span class="number">0.9</span>;</span><br><span class="line">  background-color:transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//菜单栏的透明度设置</span></span><br><span class="line">.header-inner &#123;</span><br><span class="line">  background: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果了解<code>css</code>可自行修改样式。正如样式中的<code>background-image</code>，我们设置了<code>url</code>为<code>/images/bg.png</code>的图片作为背景，这里你可以更改为动态链接，否则，你需要再准备一张背景图片放到<code>hexo\themes\next\source\images</code>目录下。</p><p>现在我们，需要把新增的这个文件嵌入<code>main.styl</code>文件中：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// ------------------插入自定义样式文件</span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;custom&quot;</span>;</span><br></pre></td></tr></table></figure><h2 id="自定义404界面"><a href="#自定义404界面" class="headerlink" title="自定义404界面"></a>自定义404界面</h2><p>有时候遇到打不开的链接或者别的特殊情况，常常弹出<code>404</code>界面，我们可以自定义这个界面。有两个方法可以实现：</p><h3 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h3><p>首先需要创建<code>404</code>目录：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page 404</span><br></pre></td></tr></table></figure><p>然后，修改目录下的<code>index.md</code>文件即可。</p><h3 id="方式二："><a href="#方式二：" class="headerlink" title="方式二："></a>方式二：</h3><p>直接在<code>next</code>主题目录<code>hexo\themes\next\source</code>下添加<code>404.html</code>文件即可，比如下面的腾讯404工业界面：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8;&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge,chrome=1&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;all&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;index,follow&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/style/404style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/plain&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://www.qq.com/404/search_children.js&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">homePageUrl</span>=<span class="string">&quot;/&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">homePageName</span>=<span class="string">&quot;回到我的主页&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/data.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/page.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="设置头像"><a href="#设置头像" class="headerlink" title="设置头像"></a>设置头像</h2><p><code>Next</code>默认不显示头像，在<strong>主题配置文件</strong>中搜索关键词：<code>avatar</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  # Replace the default image and set the url here.</span><br><span class="line">  url: /images/avatar.gif</span><br><span class="line">  rounded: true #圆形头像</span><br><span class="line">  # If true, the avatar will be rotated with the cursor.</span><br><span class="line">  rotated: false #动画效果</span><br></pre></td></tr></table></figure><p>根据<code>url</code>的路径添加对应的图片即可。</p><h2 id="添加站点搜索按钮"><a href="#添加站点搜索按钮" class="headerlink" title="添加站点搜索按钮"></a>添加站点搜索按钮</h2><p><code>Next</code>内置的效果，在<strong>主题配置文件</strong>中搜索关键词：<code>local_search</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  # 设置为 auto 时输入时自动触发搜索；设置为 manual 时使用enter回车或者点击搜索按钮才会执行搜索</span><br><span class="line">  trigger: auto</span><br><span class="line">  # 显示每篇文章的前n个结果，通过设置为-1显示所有结果</span><br><span class="line">  top_n_per_article: 1</span><br><span class="line">  # 将html字符串转义为可读的字符串</span><br><span class="line">  unescape: false</span><br><span class="line">  # 页面加载时预加载搜索数据。</span><br><span class="line">  preload: false</span><br></pre></td></tr></table></figure><h2 id="增加图片放大预览功能"><a href="#增加图片放大预览功能" class="headerlink" title="增加图片放大预览功能"></a>增加图片放大预览功能</h2><p>利用<code>Fancybox</code>来放大查看和播放图片。</p><p><code>Fancybox</code>有不同的版本，如果需要安装新版本，需要先清除已经安装的旧版本：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf themes/next/source/lib/fancybox</span><br></pre></td></tr></table></figure><p>然后进入<code>next</code>主题目录安装新版本：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd themes/next</span><br><span class="line">git clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancybox</span><br></pre></td></tr></table></figure><p>最后修改<strong>主题配置文件</strong>即可：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># For more information: https://fancyapps.com/fancybox</span><br><span class="line">fancybox: ture</span><br></pre></td></tr></table></figure><h2 id="回到顶部样式优化"><a href="#回到顶部样式优化" class="headerlink" title="回到顶部样式优化"></a>回到顶部样式优化</h2><p>首先回到顶部有配置是可以修改的，在<strong>主题配置文件</strong>中搜索关键词：<code>back2top</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">back2top:</span><br><span class="line">  enable: true</span><br><span class="line">  # 在sidebar显示</span><br><span class="line">  sidebar: false</span><br><span class="line">  # 显示百分比</span><br><span class="line">  scrollpercent: true</span><br></pre></td></tr></table></figure><p>默认的回到顶部是个<strong>小箭头</strong>，如果你觉得单调，可以使用<code>css</code>换成你想要的样式，既然使用到了<code>css</code>，就如同文章目录<strong>静态背景</strong>这一节的操作一样，我们把新增的<code>css</code>代码写到<code>custom.styl</code>中就好了。</p><p>比如，我们新增这样一些样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//自定义回到顶部样式</span><br><span class="line"><span class="selector-class">.back-to-top</span> &#123;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">  width: 70px;  //图片素材宽度</span><br><span class="line">  height: 900px;  //图片素材高度</span><br><span class="line">  <span class="selector-tag">top</span>: <span class="selector-tag">-900px</span>;</span><br><span class="line">  <span class="selector-tag">bottom</span>: <span class="selector-tag">unset</span>;</span><br><span class="line">  <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> <span class="selector-class">.5s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line">  background: url(/images/backtop.png);</span><br><span class="line"></span><br><span class="line">  //隐藏箭头图标</span><br><span class="line">  &gt; <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &gt; <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">93px</span>);</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">9px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#853f39</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-class">.back-to-top-on</span> &#123;</span><br><span class="line">    <span class="attribute">bottom</span>: unset;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">100vh</span> &lt; (<span class="number">900px</span> + <span class="number">200px</span>) ? <span class="built_in">calc</span>( <span class="number">100vh</span> - <span class="number">900px</span> - <span class="number">200px</span> ) : <span class="number">0px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>样式中，我们使用了一张背景图，我们把它放到<code>hexo\themes\next\source\images</code>目录下即可看到下面的样式：</p><p><img data-src="/images/5f4b86b846a0b_5f4b86b8c30cf.gif" alt="5f4b86b846a0b_5f4b86b8c30cf"></p><p>点击这里可以下载这张图片：</p><a class="btn" href="/images/scroll.png" download="">  <i class="fa fa-download fa-fw"></i> backtop </a><h2 id="添加评论系统"><a href="#添加评论系统" class="headerlink" title="添加评论系统"></a>添加评论系统</h2><h3 id="Valine评论系统"><a href="#Valine评论系统" class="headerlink" title="Valine评论系统"></a>Valine评论系统</h3><p><code>Next</code>内置了多种评论系统，你可以选择一款或者同时使用多款，这里以<code>Valine </code>的安装为例：</p><p> Valine 评论系统，不需要登录，没有后端，关键还支持<code>markdown</code>语法，它的一些特点：</p><ul><li>基于 Leancloud 的系统</li><li>支持 MarkDown 语法</li><li>无后端实现，快速高效</li></ul><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><ol><li><p>注册<code>LeanCloud </code></p><p>因为 <code>Valine</code> 是基于 <code>LeanCloud</code> 系统的，所以先在 <code>LeanCloud </code>中注册账号。</p><p>注册登陆后，访问控制台，创建应用，选择开发版，创建好之后就生成了 <code>App ID</code> 和 <code>App Key</code>，这两个信息需要填写到配置文件中。</p></li><li><p>修改主题配置文件</p><p>搜索关键字<code> Valine</code>：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># For more information: https://valine.js.org, https://github.com/xCss/Valine, https://valine.js.org/hexo.html</span><br><span class="line">valine:</span><br><span class="line">  enable: true</span><br><span class="line">  appid: #这里填写你的App ID</span><br><span class="line">  appkey: #这里填写你的App key</span><br><span class="line">  notify: false # Mail notifier</span><br><span class="line">  verify: false # Verification code</span><br><span class="line">  placeholder: 说点什么? # Comment box placeholder</span><br><span class="line">  avatar: monsterid # https://valine.js.org/avatar.html</span><br><span class="line">  guest_info: nick,mail,link # Custom comment header</span><br><span class="line">  pageSize: 10 # Pagination size</span><br><span class="line">  language: # Language, available values: en, zh-cn</span><br><span class="line">  visitor: true # Article reading statistic</span><br><span class="line">  comment_count: true # If false, comment count will only be displayed in post page, not in home page</span><br><span class="line">  recordIP: false # Whether to record the commenter IP</span><br><span class="line">  serverURLs: # When the custom domain name is enabled, fill it in here (it will be detected automatically by default, no need to fill in)</span><br><span class="line">  #post_meta_order: 0</span><br></pre></td></tr></table></figure></li></ol><p>本文使用的即<code>Valine</code>评论系统，欢迎滑到底部查看效果，或留下你的足迹。</p><h2 id="添加点击和Typing特效"><a href="#添加点击和Typing特效" class="headerlink" title="添加点击和Typing特效"></a>添加点击和Typing特效</h2><p><a href="http://yearito.cn/posts/hexo-theme-beautify.html">TODO</a></p><h2 id="添加看板娘"><a href="#添加看板娘" class="headerlink" title="添加看板娘"></a>添加看板娘</h2><p>TODO</p><h2 id="插入node提示块"><a href="#插入node提示块" class="headerlink" title="插入node提示块"></a>插入node提示块</h2><p><a href="https://jinnsjj.github.io/uncategorized/hexo-next-note/">TODO</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img data-src=&quot;https://user-images.githubusercontent.com/16272760/63487983-da41b080-c4df-11e9-951c-64883a8a5e9b.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://theme-next.iissnan.com/&quot;&gt;&lt;strong&gt;Next&lt;/strong&gt;&lt;/a&gt;主题是使用人数较多的一款主题，在于其精简易用，提供了不同的主题风格和样式配置。由于&lt;a href=&quot;https://theme-next.iissnan.com/theme-settings.html&quot;&gt;Next官方文档&lt;/a&gt;并未收录所有配置修改说明，所以本文重点总结一些常用的配置修改方法以及增加一些扩展效果。&lt;/p&gt;
&lt;p&gt;欢迎留言补充说明。（由于版本更迭，有的方法可能不再适用，当前版本&lt;a href=&quot;https://github.com/theme-next/hexo-theme-next&quot;&gt;&lt;code&gt;V7.8.0&lt;/code&gt;&lt;/a&gt;）&lt;/p&gt;</summary>
    
    
    
    <category term="guide" scheme="https://fongzhizhi.github.io/categories/guide/"/>
    
    <category term="hexo" scheme="https://fongzhizhi.github.io/categories/guide/hexo/"/>
    
    
    <category term="hexo" scheme="https://fongzhizhi.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode算法题之日期间隔天数</title>
    <link href="https://fongzhizhi.github.io/2020/08/24/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E4%B9%8B%E6%97%A5%E6%9C%9F%E9%97%B4%E9%9A%94%E5%A4%A9%E6%95%B0/"/>
    <id>https://fongzhizhi.github.io/2020/08/24/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E4%B9%8B%E6%97%A5%E6%9C%9F%E9%97%B4%E9%9A%94%E5%A4%A9%E6%95%B0/</id>
    <published>2020-08-24T15:55:43.865Z</published>
    <updated>2020-08-24T15:59:45.918Z</updated>
    
    <content type="html"><![CDATA[<p>一道来自<a href="https://leetcode-cn.com/">LeetCode</a>的算法题。</p><blockquote><p><strong>难度</strong>：简单</p><p><strong>来源</strong>：<a href="https://leetcode-cn.com/problems/number-of-days-between-two-dates/">https://leetcode-cn.com/problems/number-of-days-between-two-dates/</a></p><p><strong>题目</strong>：请你编写一个程序来计算两个日期之间隔了多少天。日期以字符串形式给出，格式为 <code>YYYY-MM-DD</code>。（注：给定的日期是 <code>1971</code> 年到 <code>2100</code> 年之间的有效日期）</p></blockquote><a id="more"></a><h2 id="待实现模板"><a href="#待实现模板" class="headerlink" title="待实现模板"></a>待实现模板</h2><p><strong>typescript</strong>：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">daysBetweenDates</span>(<span class="params">date1: <span class="built_in">string</span>, date2: <span class="built_in">string</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>python</strong>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">daysBetweenDates</span>(<span class="params">self, date1, date2</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type date1: str</span></span><br><span class="line"><span class="string">        :type date2: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><h2 id="分析-amp-示例"><a href="#分析-amp-示例" class="headerlink" title="分析&amp;示例"></a>分析&amp;示例</h2><p><strong>示例1：</strong></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：date1 = &quot;2019-06-29&quot;, date2 = &quot;2019-06-30&quot;</span><br><span class="line">输出：1</span><br></pre></td></tr></table></figure><p><strong>示例2：</strong></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：date1 = &quot;2020-01-15&quot;, date2 = &quot;2019-12-31&quot;</span><br><span class="line">输出：15</span><br></pre></td></tr></table></figure><p><strong>分析：</strong></p><p>计算天数间隔，我们可以以给定的最小日期<code>1971.1.1</code>为基准，分别计算给定日期经过了多少天，这样两者相减的绝对值就是间隔天数了。</p><p>关键的部分在于如何计算出从<code>1971.1.1</code>到给定日期经过了多少天，一种方法是从给定日期，一天一天递减，直到<code>1971.1.1</code>，但这样比较<strong>简单粗暴</strong>，我们可以找到一些规律来节约我们的计算：每个月的天数是固定的，或者说每年的天数是固定的，除了闰年2月多一天，有了这个规律，我们就可以直接递减年份来计算，而不必一天一天递减。</p><p>注：闰年指能被<code>4</code>整除但又不能被<code>100</code>整除的年份，除了能被<code>400</code>整除的世纪闰年。</p><h2 id="实现-TypeScript"><a href="#实现-TypeScript" class="headerlink" title="实现(TypeScript)"></a>实现(TypeScript)</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">daysBetweenDates</span>(<span class="params">date1: <span class="built_in">string</span>, date2: <span class="built_in">string</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> d1 = getDays(date1);</span><br><span class="line">    <span class="keyword">let</span> d2 = getDays(date2);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.abs(d1 - d2);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDays</span>(<span class="params">str: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = str.split(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> year = <span class="built_in">parseInt</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">let</span> month = <span class="built_in">parseInt</span>(arr[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">let</span> day = <span class="built_in">parseInt</span>(arr[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">let</span> months = [<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>]; <span class="comment">// 365</span></span><br><span class="line">    <span class="keyword">const</span> startY = <span class="number">1971</span>,</span><br><span class="line">        startM = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 日</span></span><br><span class="line">    <span class="keyword">let</span> allDays = day;</span><br><span class="line">    <span class="comment">// 月</span></span><br><span class="line">    <span class="keyword">if</span>(month &gt; <span class="number">2</span> &amp;&amp; isLeapYear(year))&#123;</span><br><span class="line">        allDays += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; month; i++)&#123;</span><br><span class="line">        allDays += months[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 年</span></span><br><span class="line">    <span class="keyword">while</span>(year &gt; startY)&#123;</span><br><span class="line">        allDays += <span class="number">365</span>;</span><br><span class="line">        <span class="keyword">if</span>(isLeapYear(--year)) &#123;</span><br><span class="line">            allDays += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> allDays;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isLeapYear</span>(<span class="params">year: <span class="built_in">number</span></span>): <span class="title">boolean</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (year % <span class="number">4</span> === <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || (year % <span class="number">400</span> === <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实现（Python）"><a href="#实现（Python）" class="headerlink" title="实现（Python）"></a>实现（Python）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">daysBetweenDates</span>(<span class="params">self, date1, date2</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type date1: str</span></span><br><span class="line"><span class="string">        :type date2: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> abs(self.getDays(date1) - self.getDays(date2));</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isLeapYear</span>(<span class="params">self, year</span>):</span></span><br><span class="line">        <span class="keyword">return</span> (year % <span class="number">400</span> == <span class="number">0</span>) <span class="keyword">or</span> (year % <span class="number">100</span> != <span class="number">0</span> <span class="keyword">and</span> year % <span class="number">4</span> == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getDays</span>(<span class="params">self, date</span>):</span></span><br><span class="line">        dataArr = date.split(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        year = int(dataArr[<span class="number">0</span>]);</span><br><span class="line">        month = int(dataArr[<span class="number">1</span>]);</span><br><span class="line">        allDays = int(dataArr[<span class="number">2</span>]); <span class="comment"># 日</span></span><br><span class="line">        months = [<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>];</span><br><span class="line">        <span class="keyword">if</span> month &gt; <span class="number">2</span> <span class="keyword">and</span> self.isLeapYear(year):</span><br><span class="line">            allDays += <span class="number">1</span>;</span><br><span class="line">        <span class="comment"># 月</span></span><br><span class="line">        i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> month &gt; i:</span><br><span class="line">            allDays += months[i]</span><br><span class="line">            i += <span class="number">1</span>;</span><br><span class="line">        <span class="comment"># 年</span></span><br><span class="line">        <span class="keyword">while</span> year &gt; <span class="number">1971</span>:</span><br><span class="line">            year -= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> self.isLeapYear(year):</span><br><span class="line">                allDays += <span class="number">1</span>;</span><br><span class="line">            allDays += <span class="number">365</span>;</span><br><span class="line">        <span class="keyword">return</span> allDays;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;一道来自&lt;a href=&quot;https://leetcode-cn.com/&quot;&gt;LeetCode&lt;/a&gt;的算法题。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;难度&lt;/strong&gt;：简单&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;来源&lt;/strong&gt;：&lt;a href=&quot;https://leetcode-cn.com/problems/number-of-days-between-two-dates/&quot;&gt;https://leetcode-cn.com/problems/number-of-days-between-two-dates/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;题目&lt;/strong&gt;：请你编写一个程序来计算两个日期之间隔了多少天。日期以字符串形式给出，格式为 &lt;code&gt;YYYY-MM-DD&lt;/code&gt;。（注：给定的日期是 &lt;code&gt;1971&lt;/code&gt; 年到 &lt;code&gt;2100&lt;/code&gt; 年之间的有效日期）&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="编程题" scheme="https://fongzhizhi.github.io/categories/%E7%BC%96%E7%A8%8B%E9%A2%98/"/>
    
    <category term="算法" scheme="https://fongzhizhi.github.io/categories/%E7%BC%96%E7%A8%8B%E9%A2%98/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="算法题" scheme="https://fongzhizhi.github.io/tags/%E7%AE%97%E6%B3%95%E9%A2%98/"/>
    
    <category term="LeetCode" scheme="https://fongzhizhi.github.io/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>git常用指令总结</title>
    <link href="https://fongzhizhi.github.io/2020/08/23/git%E6%8C%87%E4%BB%A4/"/>
    <id>https://fongzhizhi.github.io/2020/08/23/git%E6%8C%87%E4%BB%A4/</id>
    <published>2020-08-23T08:31:48.786Z</published>
    <updated>2020-08-23T08:47:12.184Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/git.png" alt="git"></p><p>在这里记录一些常用的<code>git</code>指令，以及使用时碰到的一些问题及相应的解决办法。</p><a id="more"></a><h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git init [local repository]</span><br></pre></td></tr></table></figure><h2 id="克隆到本地"><a href="#克隆到本地" class="headerlink" title="克隆到本地"></a>克隆到本地</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &lt;url&gt;</span><br></pre></td></tr></table></figure><h2 id="添加变化至暂存区-index"><a href="#添加变化至暂存区-index" class="headerlink" title="添加变化至暂存区(index)"></a>添加变化至暂存区(index)</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;filename&gt;</span><br><span class="line">git add *</span><br><span class="line">git commit -m &quot;&lt;commit message&gt;&quot;</span><br></pre></td></tr></table></figure><h2 id="推送"><a href="#推送" class="headerlink" title="推送"></a>推送</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 推送到指定的远程分支</span></span><br><span class="line">git push oringin &lt;master&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 绑定远程分支并推送</span></span><br><span class="line">git romete add origin &lt;master&gt;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h2 id="分支-branch-相关"><a href="#分支-branch-相关" class="headerlink" title="分支(branch)相关"></a>分支(branch)相关</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git branch # 查看本地分支</span><br><span class="line">git branch -r # 查看远程分支</span><br><span class="line">git branch -a # 查看所有分支</span><br><span class="line"></span><br><span class="line">git checkout -b &lt;dev&gt; # 创建本地分支</span><br><span class="line">git checkout &lt;dev&gt; # 切换到本地分支（没有会根据远程分支创建本地分支）</span><br><span class="line"></span><br><span class="line">git branch -d &lt;dev&gt; # 删除本地分支</span><br><span class="line">git push origin -d &lt;remote_dev&gt; # 删除远程分支</span><br><span class="line"></span><br><span class="line">git push origin &lt;dev&gt; # 推送到远程分支，没有会自动创建</span><br><span class="line"></span><br><span class="line">git checkout [branch name] # 切换分支</span><br></pre></td></tr></table></figure><h2 id="拉取"><a href="#拉取" class="headerlink" title="拉取"></a>拉取</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">git fetch [origin]</span><br></pre></td></tr></table></figure><h2 id="缓存-stash-相关"><a href="#缓存-stash-相关" class="headerlink" title="缓存(stash)相关"></a>缓存(stash)相关</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git stash list</span><br><span class="line">git stash save &#x27;&lt;stash name&gt;&#x27;</span><br><span class="line">git stash show</span><br><span class="line">git stash show -p</span><br><span class="line">git stash apply [@&#123;num&#125;]</span><br><span class="line">git stash pop [@&#123;num&#125;]</span><br><span class="line">git stash drop</span><br><span class="line">git stash clear</span><br></pre></td></tr></table></figure><h2 id="状态-status"><a href="#状态-status" class="headerlink" title="状态(status)"></a>状态(status)</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img data-src=&quot;/images/git.png&quot; alt=&quot;git&quot;&gt;&lt;/p&gt;
&lt;p&gt;在这里记录一些常用的&lt;code&gt;git&lt;/code&gt;指令，以及使用时碰到的一些问题及相应的解决办法。&lt;/p&gt;</summary>
    
    
    
    <category term="guide" scheme="https://fongzhizhi.github.io/categories/guide/"/>
    
    <category term="git" scheme="https://fongzhizhi.github.io/categories/guide/git/"/>
    
    
    <category term="git" scheme="https://fongzhizhi.github.io/tags/git/"/>
    
  </entry>
  
</feed>
